<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <script src="https://unpkg.com/vue"></script>
    <script type="text/javascript" src="https://cdn.bootcss.com/crypto-js/3.1.9/crypto-js.js"></script>
    <title>OCR</title>
</head>
<style type="text/css"> 
    #app{
        text-align: center
    }
    textarea{
        width:100%;
        font-size: 20px;
    }
</style> 
<body>
<div id="app">
    <textarea v-bind:style="{ height: ocrResultLength + 'px' }">
        {{ocrResult}}
    </textarea>
</div>
</body>
<script>
    function getQueryString (name) {
        var reg = new RegExp('(^|&)' + name + '=([^&]*)(&|$)', 'i')
        var r = window.location.search.substr(1).match(reg)
        if (r != null) return unescape(r[2])
        return null
    }

    var app = new Vue({
        el: '#app',
        data () {
            return {
                ocrResult: "",
            }
        },
        mounted () {
            try {
                    var EncodeOCRResult = getQueryString('ocr_result')
                    var encryptedWord = CryptoJS.enc.Base64.parse(EncodeOCRResult);
                    this.ocrResult = CryptoJS.enc.Utf8.stringify(encryptedWord);
                } catch (error) {
                    this.ocrResult =  "decode error"
            }
        },
        computed: {
            ocrResultLength: function() {
                return this.ocrResult.split('\n').length * 24
            }

        }
    })
</script>



</html>
